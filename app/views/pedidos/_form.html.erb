<%= form_for(@pedido) do |f| %>
  <% if @pedido.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@pedido.errors.count, "error") %> prohibited this pedido from being saved:</h2>

      <ul>
      <% @pedido.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <% if current_user.roles_mask == 'userdigital' %>
  <div class="field">
    Cargar STL: <%= f.file_field :file %> 
  </div>
  <%end%>
  <div class="field">
    <%= f.label :nombre, 'Nombre del Paciente' %><br>
    <%= f.text_field :nombre %>
  </div>
  <div class="field">
    <%= f.label :trabajo_id %><br>
    <%= collection_select(:pedido, :trabajo_id, Trabajo.all, :id, :nombre, {:class => "select", :style=>'width:35%'}) %> 
  <script src="multiple-select.js"></script>
    <script>
        $("select").multipleSelect({
            single: true,
            multipleWidth: 55,
            width: '23%'
        });
    </script>
  </div>
  <div class="field">
    <%= f.label :material_id %><br>
    <%= collection_select(:pedido, :material_id, Material.all, :id, :nombre) %>
    <script src="multiple-select.js"></script>
    <script>
        $("select").multipleSelect({
            single: true,
            multipleWidth: 55,
            width: '15%'
        });
    </script>
  </div>
  <div class="field">
  <label>Dientes</label>
  <div>
    <select name="pedido[diente_ids][]" multiple="multiple">
        <optgroup label="Zona 1">
            <option value="1">1.1</option>
            <option value="2">1.2</option>
            <option value="3">1.3</option>
            <option value="4">1.4</option>
            <option value="5">1.5</option>
            <option value="6">1.6</option>
            <option value="7">1.7</option>
            <option value="8">1.8</option>
        </optgroup>
        <optgroup label="Zona 2">
            <option value="9">2.1</option>
            <option value="10">2.2</option>
            <option value="11">2.3</option>
            <option value="12">2.4</option>
            <option value="13">2.5</option>
            <option value="14">2.6</option>
            <option value="15">2.7</option>
            <option value="16">2.8</option>
        </optgroup>
        <optgroup label="Zona 3">
            <option value="17">3.1</option>
            <option value="18">3.2</option>
            <option value="19">3.3</option>
            <option value="20">3.4</option>
            <option value="21">3.5</option>
            <option value="22">3.6</option>
            <option value="23">3.7</option>
            <option value="24">3.8</option>
        </optgroup>
        <optgroup label="Zona 4">
            <option value="25">4.1</option>
            <option value="27">4.2</option>
            <option value="28">4.3</option>
            <option value="29">4.4</option>
            <option value="30">4.5</option>
            <option value="31">4.6</option>
            <option value="32">4.7</option>
            <option value="33">4.8</option>
        </optgroup>
    </select>
    <script src="multiple-select.js"></script>
    <script>
        $("select").multipleSelect({
            multiple: true,
            multipleWidth: 55,
            width: '25%',
            placeholder: 'Seleccione El/Los Dientes'
        });
    </script>
     </div>
  </div>
  <div class="field">
    <%= f.label :observacion %><br>
    <%= f.text_area :observacion %>
  </div>
  <div class="field">
    Imagen de Observacion: <%= f.file_field :cover %>
  </div>
  <div class="text-center">
    <% if user_signed_in? %>
      <%= render "payments/form", payment: Payment.new, pedido: @pedido %>
    <% end %>
  </div>
<% end %>
